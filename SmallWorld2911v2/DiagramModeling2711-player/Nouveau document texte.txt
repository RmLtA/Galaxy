 GamePlayBuilder engine;
         GamePlay game;
         Map map;
        unsafe public MainWindow()
        {
            InitializeComponent();
            engine = new NewGamePlayImpl();
            game= engine.start();      
          } 

             private void Window_Loaded(object sender, RoutedEventArgs e)
        {
            // on initialise la Grid (mapGrid défini dans le xaml) à partir de la map du modèle (engine)
             map=game._Map; 
            for (int c = 0; c < map.SquareNumber; c++) {
                mapGrid.ColumnDefinitions.Add(new ColumnDefinition() { Width = new GridLength(20, GridUnitType.Pixel) });
            }
            for (int l = 0; l < map.SquareNumber; l++) {
                mapGrid.RowDefinitions.Add(new RowDefinition() { Height = new GridLength(20, GridUnitType.Pixel) });
                for (int c = 0; c < map.SquareNumber; c++)  {
                    // dans chaque case de la grille on ajoute une tuile (logique) matérialisée par un rectangle (physique)
                    // le rectangle possède une référence sur sa tuile
                    var tile = map.MatSquare[c, l];
                    var element =GetHex(c, l, tile);
                    mapGrid.Children.Add(element);
                }
            }
            updateUnitUI();
        }